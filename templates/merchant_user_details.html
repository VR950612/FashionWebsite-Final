<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Shopping Cart</title>
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
    />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
    <style>
      .custom-header {
        font-size: 50px;
        color: rgba(250, 38, 102, 0.901);
      }

      .quantity {
        text-align: center;
      }

      .input-group-prepend,
      .input-group-append {
        width: 50px;
      }

      .btn-minus,
      .btn-plus {
        width: 50px;
      }
    </style>
  </head>
  <body>
    {% include "header.html" %}
    <div
      class="container d-flex justify-content-center align-items-center"
      style="min-height: 100vh"
    >
      <form
        id="editForm"
        action=""
        enctype="multipart/form-data"
        method="POST"
        class="shadow-none"
        style="width: 100%; max-width: 800px"
      >
        <div class="row" style="margin-top: 50px">
          <h1 style="font-size: 36px; text-align: center">Account Details</h1>
        </div>

        <!-- First Name and Last Name Row -->
        <div class="row mb-3" style="margin-top: 30px;">
          <div class="col-md-6">
            <div class="form-group">
              <label for="firstname">First Name:</label>
              <input
                type="text"
                class="form-control"
                id="firstname"
                name="firstname"
                value=""
                disabled
                required
              />
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group">
              <label for="lastname">Last Name:</label>
              <input
                type="text"
                class="form-control"
                id="lastname"
                name="lastname"
                value=""
                disabled
                required
              />
            </div>
          </div>
        </div>

        <!-- Company Name and Email Address Row -->
        <div class="row mb-3">
          <div class="col-md-6">
            <div class="form-group">
              <label for="company_name">Company Name:</label>
              <input
                type="text"
                class="form-control"
                id="company_name"
                name="company_name"
                value=""
                disabled
              />
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group">
              <label for="company_emailaddress">Email Address:</label>
              <input
                type="email"
                class="form-control"
                id="company_emailaddress"
                name="company_emailaddress"
                value=""
                disabled
                required
              />
            </div>
          </div>
        </div>

        <!-- Address and Mobile Row -->
        <div class="row mb-3">
          <div class="col-md-6">
            <div class="form-group">
              <label for="company_address">Address:</label>
              <input
                type="text"
                class="form-control"
                id="company_address"
                name="company_address"
                value=""
                disabled
                required
              />
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group">
              <label for="company_mobile">Mobile:</label>
              <input
                type="text"
                class="form-control"
                id="company_mobile"
                name="company_mobile"
                value=""
                disabled
                required
              />
            </div>
          </div>
        </div>

        <!-- Postcode and Registration Number Row -->
        <div class="row mb-4">
          <div class="col-md-6">
            <div class="form-group">
              <label for="company_postcode">Postcode:</label>
              <input
                type="text"
                class="form-control"
                id="company_postcode"
                name="company_postcode"
                value=""
                disabled
                required
              />
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group">
              <label for="company_registrationno">Registration Number:</label>
              <input
                type="text"
                class="form-control"
                id="company_registrationno"
                name="company_registrationno"
                value=""
                disabled
                required
              />
            </div>
          </div>
        </div>

        <div class="d-flex justify-content-start gap-4" style="margin-top: 50px; margin-bottom: 50px;">
          <!-- Save Changes button -->
          <button
            type="submit"
            class="btn btn-primary"
            id="saveButton"
          >
            Save Changes
          </button>
        
          <!-- Edit button -->
          <button
            type="button"
            class="btn btn-secondary "
            id="editButton"
          >
            Edit
          </button>
        </div>

    <!-- Success message modal -->
    <div
      class="modal fade"
      id="successModal"
      tabindex="-1"
      role="dialog"
      aria-labelledby="successModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="successModalLabel">Success</h5>
            <button
              type="button"
              class="close"
              data-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            Your changes have been saved successfully.
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-dismiss="modal"
            >
              Close
            </button>
          </div>
        </div>
      </div>
    </div>
    <script>
      // Function to toggle input field disable/enable
      function toggleInputs(enable) {
        var inputs = document.querySelectorAll(
          'input[type="text"], input[type="email"]'
        );
        inputs.forEach(function (input) {
          input.disabled = !enable;
        });
      }

      // Add event listener to the "Edit" button
      document
        .getElementById("editButton")
        .addEventListener("click", function () {
          toggleInputs(true);
        });

      // Show success message after form submission
      $("#editForm").on("submit", function (event) {
        event.preventDefault(); // Prevent default form submission

        // Submit the form via AJAX
        $.ajax({
          type: "POST",
          url: $(this).attr("action"),
          data: new FormData(this),
          processData: false,
          contentType: false,
          success: function (response) {
            // Show success modal
            $("#successModal").modal("show");
            // Disable input fields after successful submission
            toggleInputs(false);
          },
          error: function (response) {
            alert("An error occurred. Please try again.");
          },
        });
      });
    </script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
    <!-- <script>
    // Function to toggle input field disable/enable
    function toggleInputs(enable) {
        var inputs = document.querySelectorAll('input[type="text"], input[type="email"]');
        inputs.forEach(function(input) {
            input.disabled = !enable;
        });
    }

    // Add event listener to the "Edit" button
    document.getElementById('editButton').addEventListener('click', function() {
        toggleInputs(true); 
        
    });
</script> -->
  </body>
</html>
