{% include "header.html" %}

<section id="login-background" class="gradient-background">
  <div class="container pb-5 pt-2" style="max-width: 500px">
    <h2 class="text-center mt-3" style="color: white; margin-bottom: 20px">
      Sign Up
    </h2>

    <form class="custom-form" id="register-form">
      <div class="mb-3 mt-3">
        <label for="firstName" class="form-label"
          ><i class="fa-solid fa-user"></i>First Name</label
        >
        <input
          type="text"
          class="form-control"
          id="firstName"
          name="firstName"
          required
        />
      </div>

      <div class="mb-3">
        <label for="lastName" class="form-label"
          ><i class="fa-solid fa-user"></i>Last Name</label
        >
        <input
          type="text"
          class="form-control"
          id="lastName"
          name="lastName"
          required
        />
      </div>

      <div class="mb-3">
        <label for="email" class="form-label"
          ><i class="fa-solid fa-envelope"></i>Email</label
        >
        <input
          type="email"
          class="form-control"
          id="email"
          name="email"
          required
        />
      </div>

      <div class="mb-3">
        <label for="password" class="form-label"
          ><i class="fa-solid fa-lock"></i>Password</label
        >
        <input
          type="password"
          class="form-control"
          id="password"
          name="password"
          required
        />
      </div>

      <div class="mb-3">
        <label for="age" class="form-label"
          ><i class="fa-sharp fa-solid fa-genderless"></i>Age</label
        >
        <input
          type="number"
          class="form-control"
          id="age"
          name="age"
          required
        />
      </div>
      <div class="mb-3">
        <label for="gender" class="form-label">
          <i class="fa-sharp fa-solid fa-person-half-dress"></i> Gender
        </label>
        <select class="form-select" id="gender" name="gender-select" required>
          <option value="selected disabled">Select Gender</option>
          <option value="Male">Male</option>
          <option value="Female">Female</option></select
        ><br />
      </div>
      <div class="text-center">
        <button type="submit" class="btn btn-dark fs-6 col-md-6 mb-5">
          Register
        </button>
      </div>
      <span id="signup-message" class="text-danger"></span>
    </form>
  </div>

  <!--Jquery -->
  <script
    src="https://code.jquery.com/jquery-3.7.1.min.js"
    integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
    crossorigin="anonymous"
  ></script>
  <!-- Boostrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/js/bootstrap.min.js"></script>

  <script>
    // AJAX for signup form submission
    $("#register-form").submit(function (e) {
      e.preventDefault();
      $.ajax({
        url: "/register",
        type: "POST",
        data: $(this).serialize(),
        success: function (response) {
          if (response.success) {
            $("#signup-message")
              .text(response.message)
              .removeClass("text-danger")
              .addClass("text-success");
          } else {
            $("#signup-message")
              .text(response.message)
              .removeClass("text-success")
              .addClass("text-danger");
          }
        },
        error: function (xhr, status, error) {
          $("#signup-message")
            .text("Error: " + xhr.responseJSON.message)
            .removeClass("text-success")
            .addClass("text-danger");
        },
      });
    });
  </script>
</section>
{% include "footer.html"%}
